<div class='conditional-form'>
  <fieldset ng-disabled="!editMode">
    <div class='form-row'>
      <!-- note: device type is just for show -->
      <div class="styled-select">
        <select name='device-type'>
          <option>AirSoClean3000</option>
        </select>
      </div>

      <!-- do these have hardcoded values or should they be generated? -->
      <div class="styled-select">
        <select name='topic' ng-model='rule.topic' ng-change='getComparator(rule.topic)'>
          <option value='sensor'>Sensor</option>
          <option value='device_log'>Device Log</option>
        </select>
      </div>

      <div class="styled-select">
        <select name='sensor' ng-model='rule.device' ng-options='c.id as c.displayName for c in comparatorOptions'>
        </select>
      </div>

      <!--$lt, $lte, $gt, $gte, $eq, $in, $nin -->
      <div class="styled-select">
        <select name='comparator' ng-model='rule.operator'>
          <option value='$lt'> &lt; </option>
          <option value='$lte'>&lt;=</option>
          <option value='$gt'>&gt;</option>
          <option value='$gte'>&gt;=</option>
          <option value='$eq'>=</option>
          <option value='$in'>Matches Any</option>
          <option value='$nin'>Matches None</option>
          <option value='$con'>Contains</option>
        </select>
      </div>

      <input id='value' name='value' type='text' ng-class="{error:errorvalue}" placeholder='value' ng-model='rule.value' />
      <!-- List mode -->
      <span class='icon-container' ng-if="listMode">
        <i class="fa fa-pencil" ng-click='editCondition()'></i>
        <i class="fa fa-times" ng-click='deleteCondition(index)'></i>
      </span>
      <!--edit mode -->
      <button class='button secondary' ng-if="!listMode && editting" ng-click='editCondition()'>Update</button>
      <!-- new mode -->
      <button class='button secondary' ng-if="!listMode && !editting" ng-click='callUpdate()'>+ Add</button>
    </div>
  </fieldset>
</div>
